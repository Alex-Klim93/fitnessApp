(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72426,e=>{"use strict";let{useGetAllCoursesQuery:s,useGetCourseByIdQuery:l,useGetCourseWorkoutsQuery:i,useResetCourseProgressMutation:t}=e.i(38114).apiSlice.injectEndpoints({endpoints:e=>({getAllCourses:e.query({query:()=>"/courses",providesTags:["Course"],keepUnusedDataFor:3600}),getCourseById:e.query({query:e=>`/courses/${e}`,providesTags:(e,s,l)=>[{type:"Course",id:l}],keepUnusedDataFor:1800}),getCourseWorkouts:e.query({query:e=>`/courses/${e}/workouts`,providesTags:["Workout"]}),resetCourseProgress:e.mutation({query:e=>({url:`/courses/${e}/reset`,method:"PATCH"}),invalidatesTags:["Progress","Course"]})})});e.s(["useGetAllCoursesQuery",0,s,"useGetCourseByIdQuery",0,l,"useGetCourseWorkoutsQuery",0,i,"useResetCourseProgressMutation",0,t])},67592,e=>{e.v({but__box:"Header-module__D5nTzG__but__box",but__link:"Header-module__D5nTzG__but__link",header_box:"Header-module__D5nTzG__header_box",header_logo:"Header-module__D5nTzG__header_logo",logo__link:"Header-module__D5nTzG__logo__link",profile_arrow:"Header-module__D5nTzG__profile_arrow",profile_button:"Header-module__D5nTzG__profile_button",profile_container:"Header-module__D5nTzG__profile_container",profile_login:"Header-module__D5nTzG__profile_login"})},49850,e=>{e.v({auth__Box:"SignupPopup-module__wt3QuG__auth__Box",auth__butBox:"SignupPopup-module__wt3QuG__auth__butBox",auth__butlogin:"SignupPopup-module__wt3QuG__auth__butlogin",auth__butregister:"SignupPopup-module__wt3QuG__auth__butregister",auth__input:"SignupPopup-module__wt3QuG__auth__input",auth__inputBox:"SignupPopup-module__wt3QuG__auth__inputBox",errorBox:"SignupPopup-module__wt3QuG__errorBox",errorText:"SignupPopup-module__wt3QuG__errorText",header_logo:"SignupPopup-module__wt3QuG__header_logo",inputError:"SignupPopup-module__wt3QuG__inputError",logo__link:"SignupPopup-module__wt3QuG__logo__link",overlay:"SignupPopup-module__wt3QuG__overlay",popup:"SignupPopup-module__wt3QuG__popup"})},70152,e=>{e.v({loginName:"ProfilePopup-module__dliujq__loginName",logoutButton:"ProfilePopup-module__dliujq__logoutButton",menuItem:"ProfilePopup-module__dliujq__menuItem",menuItem__exit:"ProfilePopup-module__dliujq__menuItem__exit",menuItem__profil:"ProfilePopup-module__dliujq__menuItem__profil",menuItems:"ProfilePopup-module__dliujq__menuItems",overlay:"ProfilePopup-module__dliujq__overlay",popup:"ProfilePopup-module__dliujq__popup",profileHeader:"ProfilePopup-module__dliujq__profileHeader",userEmail:"ProfilePopup-module__dliujq__userEmail",window:"ProfilePopup-module__dliujq__window"})},59898,e=>{e.v({subtitle:"Subtitle-module__NOu3_a__subtitle",subtitle__description:"Subtitle-module__NOu3_a__subtitle__description"})},60021,69165,e=>{"use strict";var s=e.i(43476),l=e.i(57688),i=e.i(67592),t=e.i(22016),u=e.i(71645),o=e.i(11095),a=e.i(49850),d=e.i(90704),r=e.i(70756);function _({isOpen:e,onClose:i,onOpenSignin:o,onRegisterSuccess:_}){let[n,c]=(0,u.useState)(""),[m,p]=(0,u.useState)(""),[h,g]=(0,u.useState)(""),[f,x]=(0,u.useState)([]),[v,j]=(0,u.useState)(!1);if((0,u.useEffect)(()=>(e&&(document.body.style.overflow="hidden",(0,d.isAuthenticated)()&&(b(),_&&_())),()=>{document.body.style.overflow="auto"}),[e]),!e)return null;let C=async e=>{e.preventDefault(),j(!0),x([]);let s=[];if(n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||s.push("Введите корректный email адрес"):s.push("Введите Email"),m.trim()){let e,l=(e=[],m.length<8&&e.push("Пароль должен содержать минимум 8 символов"),/\d/.test(m)||e.push("Пароль должен содержать хотя бы одну цифру"),/[a-zA-Z]/.test(m)||e.push("Пароль должен содержать хотя бы одну букву"),{isValid:0===e.length,errors:e});l.isValid||s.push(...l.errors)}else s.push("Введите пароль");if(h.trim()?m!==h&&s.push("Пароли не совпадают"):s.push("Повторите пароль"),s.length>0){x(s),j(!1);return}try{await (0,d.register)(n,m);try{await (0,d.login)(n,m),window.dispatchEvent(new Event("authStateChanged")),_&&_(),b()}catch(e){console.log("Регистрация успешна, но автоматический вход не удался"),b(),o()}}catch(e){x([(0,r.getErrorMessage)(e)]),j(!1)}},y=e=>f.some(s=>(s.includes("Email")||s.includes("email"))&&"email"===e||(s.includes("пароль")||s.includes("Пароль")||s.includes("символов"))&&"password"===e||(s.includes("Повторите")||s.includes("совпадают"))&&"confirmPassword"===e),b=()=>{c(""),p(""),g(""),x([]),i()};return(0,s.jsx)("div",{className:a.default.overlay,onClick:e=>{e.target===e.currentTarget&&b()},children:(0,s.jsxs)("div",{className:a.default.popup,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:a.default.header_logo,children:[(0,s.jsx)(l.default,{width:29,height:20,className:a.default.logo__image,src:"/img/Logo.png",alt:"logo",priority:!0}),(0,s.jsx)(t.default,{href:"/",className:a.default.logo__link,children:"SkyFitnessPro"})]}),(0,s.jsx)("form",{onSubmit:C,children:(0,s.jsxs)("div",{className:a.default.auth__Box,children:[(0,s.jsxs)("div",{className:a.default.auth__inputBox,children:[(0,s.jsx)("input",{className:`${a.default.auth__input} ${y("email")?a.default.inputError:""}`,type:"email",placeholder:"Email",value:n,onChange:e=>c(e.target.value),disabled:v,required:!0}),(0,s.jsx)("input",{className:`${a.default.auth__input} ${y("password")?a.default.inputError:""}`,type:"password",placeholder:"Пароль",value:m,onChange:e=>p(e.target.value),disabled:v,required:!0}),(0,s.jsx)("input",{className:`${a.default.auth__input} ${y("confirmPassword")?a.default.inputError:""}`,type:"password",placeholder:"Повторите пароль",value:h,onChange:e=>g(e.target.value),disabled:v,required:!0}),f.length>0&&(0,s.jsx)("div",{className:a.default.errorBox,children:f.map((e,l)=>(0,s.jsx)("div",{className:a.default.errorText,children:e},l))})]}),(0,s.jsxs)("div",{className:a.default.auth__butBox,children:[(0,s.jsx)("button",{className:a.default.auth__butlogin,type:"button",onClick:()=>{b(),o()},disabled:v,children:"Войти"}),(0,s.jsx)("button",{className:a.default.auth__butregister,type:"submit",disabled:v,children:v?"Регистрация...":"Зарегистрироваться"})]})]})})]})})}var n=e.i(70152);function c({isOpen:e,onClose:l,userEmail:i,loginName:o,onLogout:a}){return((0,u.useEffect)(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="auto"}),[e]),e)?(0,s.jsx)("div",{className:n.default.window,children:(0,s.jsx)("div",{className:n.default.overlay,onClick:e=>{e.target===e.currentTarget&&l()},children:(0,s.jsxs)("div",{className:n.default.popup,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:n.default.profileHeader,children:[(0,s.jsx)("div",{className:n.default.loginName,children:o}),(0,s.jsx)("div",{className:n.default.userEmail,children:i})]}),(0,s.jsxs)("div",{className:n.default.menuItems,children:[(0,s.jsx)(t.default,{href:"/page/Profile",className:n.default.menuItem__profil,onClick:l,children:"Мой профиль"}),(0,s.jsx)("a",{href:"/",children:(0,s.jsx)("button",{className:n.default.menuItem__exit,onClick:()=>{(0,d.logout)(),a&&a(),l()},children:"Выйти"})})]})]})})}):null}function m(){let[e,a]=(0,u.useState)(!1),[r,n]=(0,u.useState)(!1),[m,p]=(0,u.useState)(!1),[h,g]=(0,u.useState)(!1),[f,x]=(0,u.useState)(""),[v,j]=(0,u.useState)("");(0,u.useEffect)(()=>{let e=()=>{let e=(0,d.isAuthenticated)();if(g(e),e){let e=(0,d.getUserEmail)(),s=(0,d.getUserLogin)();x(e||""),j(s||e?.split("@")[0]||"Пользователь")}else x(""),j("")};e();let s=()=>{e()};return window.addEventListener("authStateChanged",s),()=>{window.removeEventListener("authStateChanged",s)}},[]);let C=()=>{let e=(0,d.isAuthenticated)();if(g(e),e){let e=(0,d.getUserEmail)(),s=(0,d.getUserLogin)();x(e||""),j(s||e?.split("@")[0]||"Пользователь")}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:i.default.header_box,children:[(0,s.jsxs)("div",{className:i.default.header_logo,children:[(0,s.jsx)(l.default,{width:29,height:20,className:i.default.logo__image,src:"/img/Logo.png",alt:"logo",priority:!0}),(0,s.jsx)(t.default,{href:"/",className:i.default.logo__link,children:"SkyFitnessPro"})]}),h?(0,s.jsxs)("div",{className:i.default.profile_container,children:[(0,s.jsx)(l.default,{width:41.67,height:41.67,className:i.default.profile__icon,src:"/img/Icon.png",alt:"Profile icon",priority:!0}),(0,s.jsxs)("button",{className:i.default.profile_button,onClick:()=>{p(!0)},children:[(0,s.jsx)("span",{className:i.default.profile_login,children:v}),(0,s.jsx)("span",{className:i.default.profile_arrow,children:"▼"})]})]}):(0,s.jsx)("div",{className:i.default.but__box,children:(0,s.jsx)("button",{className:i.default.but__link,onClick:()=>{a(!0)},children:"Войти"})})]}),(0,s.jsx)(o.default,{isOpen:e,onClose:()=>a(!1),onOpenSignup:()=>{a(!1),n(!0)},onLoginSuccess:C}),(0,s.jsx)(_,{isOpen:r,onClose:()=>n(!1),onOpenSignin:()=>{n(!1),a(!0)},onRegisterSuccess:()=>{C()}}),h&&(0,s.jsx)(c,{isOpen:m,onClose:()=>p(!1),userEmail:f,loginName:v,onLogout:()=>{(0,d.logout)(),g(!1),x(""),j(""),p(!1)}})]})}e.s(["default",()=>m],60021);var p=e.i(59898);function h(){return(0,s.jsx)("div",{className:p.default.subtitle,children:(0,s.jsx)("p",{className:p.default.subtitle__description,children:"Онлайн-тренировки для занятий дома"})})}e.s(["default",()=>h],69165)},3011,e=>{e.v({container:"page-module__E0kJGG__container",main:"page-module__E0kJGG__main",wrapper:"page-module__E0kJGG__wrapper"})},59914,e=>{e.v({title:"MainTitle-module__dX-vya__title",title__discBox:"MainTitle-module__dX-vya__title__discBox",title__discription:"MainTitle-module__dX-vya__title__discription",title__main:"MainTitle-module__dX-vya__title__main",title__svgBox:"MainTitle-module__dX-vya__title__svgBox"})},8996,e=>{e.v({courses__box:"Сourses-module__3dhkyW__courses__box",courses__box1:"Сourses-module__3dhkyW__courses__box1",courses__card:"Сourses-module__3dhkyW__courses__card",courses__cardLink:"Сourses-module__3dhkyW__courses__cardLink",courses__complexity:"Сourses-module__3dhkyW__courses__complexity",courses__days:"Сourses-module__3dhkyW__courses__days",courses__descrip:"Сourses-module__3dhkyW__courses__descrip",courses__image:"Сourses-module__3dhkyW__courses__image",courses__imageSvg:"Сourses-module__3dhkyW__courses__imageSvg",courses__imgBox:"Сourses-module__3dhkyW__courses__imgBox",courses__minDay:"Сourses-module__3dhkyW__courses__minDay",courses__period:"Сourses-module__3dhkyW__courses__period",courses__periodBox:"Сourses-module__3dhkyW__courses__periodBox",courses__title:"Сourses-module__3dhkyW__courses__title"})},17889,e=>{e.v({but__link:"ButUp-module__ZnXBSa__but__link",butup_box:"ButUp-module__ZnXBSa__butup_box"})},31713,e=>{"use strict";var s=e.i(43476),l=e.i(71645),i=e.i(60021),t=e.i(3011),u=e.i(69165),o=e.i(59914);function a(){return(0,s.jsxs)("div",{className:o.default.title__main,children:[(0,s.jsx)("h1",{className:o.default.title,children:"Начните заниматься спортом и улучшите качество жизни"}),(0,s.jsx)("div",{className:o.default.title__discMain,children:(0,s.jsxs)("div",{className:o.default.title__discBox,children:[(0,s.jsx)("p",{className:o.default.title__discription,children:"Измени своё тело за полгода!"}),(0,s.jsx)("div",{className:o.default.title__svgBox,children:(0,s.jsx)("svg",{className:o.default.title__svg,viewBox:"0 0 30.2384 35.1705",width:"30.238403",height:"35.170532",fill:"none",style:{filter:"drop-shadow(0 0 1px #00000000)"},children:(0,s.jsx)("path",{d:"M3.25285 34.7255C1.65097 35.9972 -0.601266 34.3288 0.148526 32.4259L12.4256 1.26757C12.9078 0.043736 14.4198 -0.389332 15.4768 0.393651L29.4288 10.7288C30.4858 11.5118 30.5121 13.0844 29.4819 13.9023L3.25285 34.7255Z",fill:"rgb(188,236,48)",fillRule:"nonzero"})})})]})})]})}var d=e.i(57688),r=e.i(8996),_=e.i(22016),n=e.i(72426);let c=["/img/image9.png","/img/image 5.png","/img/Untitled-1 1.png","/img/image 7.png","/img/image 8.png"],m=["#FFC700","#2491D2","#F7A012","#FF7E65","#7D458C"],p=["58%","87%","58%","58%","58%"],h=["146%","113%","119%","119%","119%"],g=["-125px","-33px","-50px","-230px","-230px"],f=["-48px","-215px","-65px","-205px","-205px"];function x(){let[e,i]=(0,l.useState)(!1),{data:t=[],isLoading:u,error:o}=(0,n.useGetAllCoursesQuery)({});return((0,l.useEffect)(()=>{i(!0)},[]),e)?u?(0,s.jsx)("div",{className:r.default.courses__box,children:(0,s.jsxs)("div",{className:r.default.loading,children:[(0,s.jsx)("div",{className:r.default.spinner}),(0,s.jsx)("p",{children:"Загрузка курсов..."})]})}):o?(0,s.jsx)("div",{className:r.default.courses__box,children:(0,s.jsx)("div",{className:r.default.error,children:(0,s.jsx)("p",{children:"Ошибка при загрузке курсов"})})}):0===t.length?(0,s.jsx)("div",{className:r.default.courses__box,children:(0,s.jsx)("div",{className:r.default.empty,children:"Курсы не найдены"})}):(0,s.jsx)("div",{className:r.default.courses__box1,children:(0,s.jsx)("div",{className:r.default.courses__box,children:t.map(e=>{let l,i,t=(l=e.nameRU.toLowerCase()).includes("йога")||l.includes("yoga")?0:l.includes("стретчинг")||l.includes("stretching")?1:l.includes("фитнес")||l.includes("fitness")?2:l.includes("степ")||l.includes("step")||l.includes("аэробик")||l.includes("aerobics")?3:l.includes("бодифлекс")||l.includes("bodyflex")?4:0,u=(i=e.difficulty.toLowerCase()).includes("легк")||i.includes("начина")||i.includes("низк")||i.includes("начал")?1:i.includes("средн")?3:i.includes("сложн")||i.includes("продви")||i.includes("эксперт")||i.includes("профес")?5:i.includes("высок")?4:3,o=e.durationInDays?`${e.durationInDays} дней`:"25 дней",a=e.dailyDurationInMinutes?`${e.dailyDurationInMinutes.from}-${e.dailyDurationInMinutes.to} мин/день`:"20-50 мин/день";return(0,s.jsx)(_.default,{href:{pathname:`/page/Course/${e._id}`,query:{imageUrl:encodeURIComponent(c[t]),backgroundColor:encodeURIComponent(m[t]),imageWidth:encodeURIComponent(p[t]),imageHeight:encodeURIComponent(h[t]),imageTop:encodeURIComponent(g[t]),imageRight:encodeURIComponent(f[t])}},className:r.default.courses__cardLink,prefetch:!0,children:(0,s.jsxs)("article",{className:r.default.courses__card,children:[(0,s.jsxs)("div",{className:r.default.courses__imgBox,children:[(0,s.jsx)(d.default,{width:360,height:325,className:r.default.courses__cardLink,src:c[t],alt:e.nameRU,loading:"eager",priority:t<2}),(0,s.jsx)("div",{children:(0,s.jsx)(d.default,{width:32,height:32,className:r.default.courses__imageSvg,src:"/img/Circle.svg",alt:"Circle"})})]}),(0,s.jsxs)("div",{className:r.default.courses__descrip,children:[(0,s.jsx)("h3",{className:r.default.courses__title,children:e.nameRU}),(0,s.jsx)("div",{className:r.default.courses__periodBox,children:(0,s.jsxs)("div",{className:r.default.courses__period,children:[(0,s.jsxs)("div",{className:r.default.courses__days,children:[(0,s.jsx)(d.default,{width:18,height:18,className:r.default.courses__daysImg,src:"/img/Calendar.svg",alt:"Calendar"}),(0,s.jsx)("p",{className:r.default.courses__daysDisc,children:o})]}),(0,s.jsxs)("div",{className:r.default.courses__minDay,children:[(0,s.jsx)(d.default,{width:18,height:18,className:r.default.courses__minDayImg,src:"/img/Time.svg",alt:"Time"}),(0,s.jsx)("p",{className:r.default.courses__minDayDisc,children:a})]}),(0,s.jsxs)("div",{className:r.default.courses__complexity,children:[(0,s.jsxs)("svg",{viewBox:"0 0 18 18",width:"18",height:"18",fill:"none",children:[(0,s.jsx)("path",{d:"M15 2.625C15.2984 2.625 15.5845 2.74353 15.7955 2.9545C16.0065 3.16548 16.125 3.45163 16.125 3.75L16.125 14.25C16.125 14.5484 16.0065 14.8345 15.7955 15.0455C15.5845 15.2565 15.2984 15.375 15 15.375C14.7016 15.375 14.4155 15.2565 14.2045 15.0455C13.9935 14.8345 13.875 14.5484 13.875 14.25L13.875 3.75C13.875 3.45163 13.9935 3.16548 14.2045 2.9545C14.4155 2.74353 14.7016 2.625 15 2.625Z",fill:u>=5?"rgb(0,193,255)":"rgb(217,217,217)"}),(0,s.jsx)("path",{d:"M12 4.875C12.2984 4.875 12.5845 4.99353 12.7955 5.2045C13.0065 5.41548 13.125 5.70163 13.125 6L13.125 14.25C13.125 14.5484 13.0065 14.8345 12.7955 15.0455C12.5845 15.2565 12.2984 15.375 12 15.375C11.7016 15.375 11.4155 15.2565 11.2045 15.0455C10.9935 14.8345 10.875 14.5484 10.875 14.25L10.875 6C10.875 5.70163 10.9935 5.41548 11.2045 5.2045C11.4155 4.99353 11.7016 4.875 12 4.875Z",fill:u>=4?"rgb(0,193,255)":"rgb(217,217,217)"}),(0,s.jsx)("path",{d:"M9 7.125C9.29837 7.125 9.58452 7.24353 9.7955 7.4545C10.0065 7.66548 10.125 7.95163 10.125 8.25L10.125 14.25C10.125 14.5484 10.0065 14.8345 9.7955 15.0455C9.58452 15.2565 9.29837 15.375 9 15.375C8.70163 15.375 8.41548 15.2565 8.2045 15.0455C7.99353 14.8345 7.875 14.5484 7.875 14.25L7.875 8.25C7.875 7.95163 7.99353 7.66548 8.2045 7.4545C8.41548 7.24353 8.70163 7.125 9 7.125Z",fill:u>=3?"rgb(0,193,255)":"rgb(217,217,217)"}),(0,s.jsx)("path",{d:"M6 9.375C6.29837 9.375 6.58452 9.49353 6.7955 9.7045C7.00647 9.91548 7.125 10.2016 7.125 10.5L7.125 14.25C7.125 14.5484 7.00647 14.8345 6.7955 15.0455C6.58452 15.2565 6.29837 15.375 6 15.375C5.70163 15.375 5.41548 15.2565 5.2045 15.0455C4.99353 14.8345 4.875 14.5484 4.875 14.25L4.875 10.5C4.875 10.2016 4.99353 9.91548 5.2045 9.7045C5.41548 9.49353 5.70163 9.375 6 9.375Z",fill:u>=2?"rgb(0,193,255)":"rgb(217,217,217)"}),(0,s.jsx)("path",{d:"M3 11.625C3.29837 11.625 3.58452 11.7435 3.7955 11.9545C4.00647 12.1655 4.125 12.4516 4.125 12.75L4.125 14.25C4.125 14.5484 4.00647 14.8345 3.7955 15.0455C3.58452 15.2565 3.29837 15.375 3 15.375C2.70163 15.375 2.41548 15.2565 2.2045 15.0455C1.99353 14.8345 1.875 14.5484 1.875 14.25L1.875 12.75C1.875 12.4516 1.99353 12.1655 2.2045 11.9545C2.41548 11.7435 2.70163 11.625 3 11.625Z",fill:u>=1?"rgb(0,193,255)":"rgb(217,217,217)"})]}),(0,s.jsx)("p",{className:r.default.courses__complexityDisc,children:e.difficulty||"Средняя"})]})]})})]})]})},e._id)})})}):(0,s.jsx)("div",{className:r.default.courses__box,children:(0,s.jsx)("div",{className:r.default.skeletonGrid,children:[void 0,void 0,void 0,void 0].map((e,l)=>(0,s.jsx)("div",{className:r.default.skeletonCard},l))})})}var v=e.i(17889);function j(){let[e,i]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{let e=()=>{window.pageYOffset>300?i(!0):i(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e)?(0,s.jsx)("div",{className:v.default.butup_box,onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:(0,s.jsx)("div",{className:v.default.but__link,children:"Наверх ♂"})}):null}function C(){return(0,l.useEffect)(()=>{let e,s;e=localStorage.getItem("auth_token"),s=localStorage.getItem("user_email"),console.log("Инициализация приложения:",e?"Авторизован":"Не авторизован"),s&&console.log("Пользователь:",s)},[]),(0,s.jsx)("div",{className:t.default.wrapper,children:(0,s.jsx)("div",{className:t.default.container,children:(0,s.jsxs)("main",{className:t.default.main,children:[(0,s.jsx)(i.default,{}),(0,s.jsx)(u.default,{}),(0,s.jsx)(a,{}),(0,s.jsx)(x,{}),(0,s.jsx)(j,{})]})})})}e.s(["default",()=>C],31713)}]);